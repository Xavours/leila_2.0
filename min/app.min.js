var currentProjectIndex,thatUrl=window.location.href;!function($,root,undefined){$(function(){"use strict";$(document).ready(function(){$(window).on("scroll",function(){$(".right").css("bottom",-1*$(window).scrollTop()),$(".scroll-down").fadeOut(500),setTimeout(function(){$(".scroll-down").remove()},500)}),$(".project").each(function(){preloader($(this))}),$(window).scroll(function(){$(".project").each(function(){scrolledin($(this))})}),$(window).on("resize",function(){$(window).width()>769&&$(".content > .project_wrap, .content > .featured_wrap").each(function(){$(this).hasClass("loaded")||preloader($(this))})}),navbarOffset=null!==$(".cover")?200:window.innerHeight+200,$(window).scroll(function(event){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250),$(".content").find("div").each(function(){preloader($(this))}),$("a.previous").click(function(){0===currentProjectIndex?currentProjectIndex=data.length-1:currentProjectIndex>0&&currentProjectIndex--;var newUrl=data[currentProjectIndex].link;window.location=newUrl}),$("a.next").click(function(){currentProjectIndex===data.length-1?currentProjectIndex=0:currentProjectIndex<data.length-1&&currentProjectIndex++;var newUrl=data[currentProjectIndex].link;window.location=newUrl}),scroll(0,0)})})}(jQuery);function scrolledin(element){element.hasClass("loaded")&&(element.visible(!0)?element.addClass("scrolledin"):element.removeClass("scrolledin"))}function preloader(element){element.find("img").each(function(){var a=new Image,imageLoad=jQuery(this);a.onload=function(){imageLoad.find("img").animate({opacity:0}),element.addClass("scrolledin").addClass("loaded")},url=element.attr("data-url").replace(/^url\(["']?/,"").replace(/["']?\)$/,""),a.src=url,imageLoad.attr("src",url)})}var didScroll,lastScrollTop=0,delta=5,navbarOffset=200;function hasScrolled(){var st=$(this).scrollTop();Math.abs(lastScrollTop-st)<=delta||(st>lastScrollTop&&st>navbarOffset||st<=navbarOffset?$("header.dynamic").removeClass("nav-down").addClass("nav-up"):st+$(window).height()<$(document).height()&&st>navbarOffset&&$("header.dynamic").removeClass("nav-up").addClass("nav-down"),lastScrollTop=st)}